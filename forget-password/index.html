<head>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="./forget-password.css" />
    <link rel="stylesheet" href="/lib/toast.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
    <main>
        <div id="left">
            <img
                src="./public/logo.png"
            />
            <h1>Reset your password</h1>
            <p>Answer these questions correctly to be able to reset your password</p>
            <form id="forget-password">
                <section>
                  <label for="email">Email</label>
                  <input
                      type="email"
                      id="email"
                      name="email"
                      placeholder="Your email"
                      required
                  />
                </section>
                <button type="submit">Submit</button>
            </form>
        </div>
        <div id="right">
            <img src="./public/media.jpg"/>
        </div>
    </main>
    <script src="/lib/constants.js"></script>
    <script src="/lib/session.js"></script>
    <script src="/lib/toast.js"></script>
    <script>
      const form = document.getElementById('forget-password');
      form.addEventListener('submit', async (event) => {
        event.preventDefault();

        const email = document.getElementById('email').value;
        try {
          const userId = await getUserIdByEmail(email);
          if (!userId) {
            addToastAndRemoveLast(
              "Error", `No user found with the email: ${email}`, "error"
            );
          }
          else {
            console.log('success');
          }
        } catch (error) {
          console.error("Network error:", error);
          addToastAndRemoveLast(
            "Error", error.message, "error"
          );
        }
      });
    </script>
</body>

